import{T as h,a as m,b as c,d as t,u as e,_ as s,Z as g,e as i,f as l,t as n,j as x,m as C,F as _,l as w,v as k,k as V,n as u,i as I,C as S,p as y}from"./app-CT_6SLLp.js";import{_ as $}from"./NavLink-CJt-5OEo.js";import{_ as p,a as f}from"./InputLabel-BCwnPG5w.js";import{_ as D}from"./TextInput-DRFeqQmt.js";import{P as j}from"./PrimaryButton-D7jp8EoO.js";import{o as T}from"./vue-datepicker-CWYaf-xI.js";/* empty css             */import{_ as B}from"./CalendarTabs-CTIq61Gd.js";import{_ as E}from"./Notice-BAy9gEFZ.js";import{_ as M}from"./Card-BLrSWe1I.js";import{c as N}from"./useCalendarItemTypes-CVJPDMmO.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./GoBackNavLink-BWoQ2R1M.js";const Y={class:"py-8"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"card-header !mb-4"},R={class:"grid grid-cols-2 gap-4"},U={selected:"",value:""},A=["value"],P={class:"grid grid-cols-1 gap-4 mt-4"},z={class:"flex items-center justify-end mt-4"},se={__name:"CalendarItemCreate",props:{types:Array},setup(v){const a=h({date:"",title:"",type:""}),b=()=>{Object.keys(a.date).forEach(function(d){a.date[d]&&!/^\d{4}-\d{2}-\d{2}$/.test(a.date[d])&&(a.date[d]=S(a.date[d]).format("YYYY-MM-DD"))}),a.post(route("calendars.store"),{preserveScroll:!0,onError:()=>{y().error(s("Error Creating Calendar Item"))},onSuccess:()=>{y().success(s("Calendar Item Stored Successfully")),a.reset()}})};return(d,o)=>(c(),m(_,null,[t(e(g),{title:e(s)("Calendar Item Creation")},null,8,["title"]),t($,null,{tabs:i(()=>[t(B)]),default:i(()=>[l("div",Y,[l("div",q,[t(M,{class:"!mt-0"},{default:i(()=>[l("h1",F,n(e(s)("Create a Calendar Item")),1),l("form",{onSubmit:x(b,["prevent"])},[t(E,{type:"info",bold:e(s)("Holidays Notice:"),class:"mt-0",br:"",text:e(s)("1. Adding a holidays means the day is off, and the attendance on that day will not be considered.")+"<br/>"+e(s)("2. If a holiday overlaps with a weekend, the system will not consider the overlap and count the holiday and the weekend as 2 non-attendable days, not just 1.")},null,8,["bold","text"]),l("div",R,[l("div",null,[t(p,{for:"type_id",value:e(s)("Type")},null,8,["value"]),C(l("select",{id:"manager_id",class:"fancy-selector","onUpdate:modelValue":o[0]||(o[0]=r=>e(a).type=r)},[l("option",U,n(e(s)("Choose a Request Type")),1),(c(!0),m(_,null,w(v.types,r=>(c(),m("option",{key:r.id,value:r},n(e(N)[r]),9,A))),128))],512),[[k,e(a).type]]),t(f,{class:"mt-2",message:e(a).errors.type},null,8,["message"])]),l("div",null,[t(p,{for:"date",value:e(s)("Date (Range selection is available)")},null,8,["value"]),t(e(T),{id:"date",modelValue:e(a).date,"onUpdate:modelValue":o[1]||(o[1]=r=>e(a).date=r),class:u(["py-1 block w-full",{"border border-red-500":e(a).errors.date}]),placeholder:e(s)("Select a Date.."),"enable-time-picker":!1,dark:V("isDark").value,range:"",required:""},null,8,["modelValue","class","placeholder","dark"]),t(f,{class:"mt-2",message:e(a).errors.date},null,8,["message"])])]),l("div",P,[l("div",null,[t(p,{for:"title",value:e(s)("Title")},null,8,["value"]),t(D,{id:"title",type:"text",class:u(["mt-1 block w-full",{"border border-red-500":e(a).errors.title}]),modelValue:e(a).title,"onUpdate:modelValue":o[2]||(o[2]=r=>e(a).title=r),autocomplete:"off",placeholder:e(s)("I will be absent for 3 days because I'm sick.")},null,8,["class","modelValue","placeholder"]),t(f,{class:"mt-2",message:e(a).errors.title},null,8,["message"])])]),l("div",z,[t(j,{class:u(["ltr:ml-4 rtl:mr-4",{"opacity-25":e(a).processing}]),disabled:e(a).processing},{default:i(()=>[I(n(e(s)("Initiate Request")),1)]),_:1},8,["class","disabled"])])],32)]),_:1})])])]),_:1})],64))}};export{se as default};
